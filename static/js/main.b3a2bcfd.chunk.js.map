{"version":3,"sources":["utils/AuthService.js","components/Nav.js","components/Upload.js","components/Display.js","components/Callback.js","reportWebVitals.js","index.js"],"names":["ID_TOKEN_KEY","ACCESS_TOKEN_KEY","auth","auth0","WebAuth","clientID","domain","logout","localStorage","removeItem","browserHistory","push","requireAuth","nextState","replace","isLoggedIn","pathname","getParameterByName","name","match","RegExp","exec","window","location","hash","decodeURIComponent","idToken","getItem","encodedToken","token","decode","exp","date","Date","setUTCSeconds","getTokenExpirationDate","Nav","className","to","onClick","authorize","responseType","redirectUri","audience","scope","Component","Upload","Display","Callback","accessToken","setItem","setAccessToken","setIdToken","href","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Root","history","path","component","onEnter","ReactDOM","render","document","getElementById"],"mappings":"mNAMMA,EAAe,WACfC,EAAmB,eAQrBC,EAAO,IAAIC,IAAMC,QAAQ,CAC3BC,SAPgB,mCAQhBC,OAPoB,uBAmBf,SAASC,IAqBdC,aAAaC,WAAWT,GAIxBQ,aAAaC,WAAWR,GAtBxBS,IAAeC,KAAK,KAGf,SAASC,EAAYC,EAAWC,GAChCC,KACHD,EAAQ,CAACE,SAAU,MAqBvB,SAASC,EAAmBC,GAC1B,IAAIC,EAAQC,OAAO,OAASF,EAAO,YAAYG,KAAKC,OAAOC,SAASC,MACpE,OAAOL,GAASM,mBAAmBN,EAAM,GAAGL,QAAQ,MAAO,MAetD,SAASC,IACd,IAAMW,EAlCClB,aAAamB,QAAQ3B,GAmC5B,QAAS0B,KAGX,SAAgCE,GAC9B,IAAMC,EAAQC,YAAOF,GACrB,IAAKC,EAAME,IAAO,OAAO,KAEzB,IAAMC,EAAO,IAAIC,KAAK,GAGtB,OAFAD,EAAKE,cAAcL,EAAME,KAElBC,EAIgBG,CAdaT,GAeZ,IAAIO,M,iBC1DfG,E,4JA5Bb,WACE,OACE,sBAAKC,UAAY,wBAAjB,UACE,qBAAKA,UAAY,gBAAjB,SACE,cAAC,IAAD,CAAMA,UAAU,eAAeC,GAAG,IAAlC,wBAEF,qBAAID,UAAY,iBAAhB,UACE,6BACE,cAAC,IAAD,CAAMC,GAAG,IAAT,0BAEF,6BAEKvB,IAAgB,cAAC,IAAD,CAAMuB,GAAG,UAAT,2BAAyC,QAIhE,oBAAID,UAAU,8BAAd,SACE,6BAEKtB,IAAiB,wBAAQsB,UAAU,qBAAqBE,QAAS,kBAAMhC,KAAtD,qBAAmF,wBAAQ8B,UAAU,mBAAmBE,QAAS,WDJ/JrC,EAAKsC,UAAU,CACbC,aAAc,iBACdC,YAZa,iCAabC,SAXa,sBAYbC,MAbU,iBCaqG,gC,GApBjGC,aCgBHC,E,4JAhBX,WACE,OACE,gCACE,cAAC,EAAD,IACA,oBAAIT,UAAY,cAAhB,qDACA,uBACA,qBAAKA,UAAY,YAAjB,SACE,qBAAKA,UAAY,wBAAjB,SACE,wBAAQA,UAAY,sBAApB,sC,GATOQ,aCgBNE,G,kKAbb,WACE,OACE,gCACE,cAAC,EAAD,IACE,oBAAIV,UAAY,cAAhB,sCACF,uBACA,qBAAKA,UAAU,qB,GAPDQ,cCUPG,E,uKAXb,YJ2DK,WACL,IAAIC,EAAchC,EAAmB,gBACrCT,aAAa0C,QAAQjD,EAAkBgD,GI5DrCE,GJgEG,WACL,IAAIzB,EAAUT,EAAmB,YACjCT,aAAa0C,QAAQlD,EAAc0B,GIjEjC0B,GACA9B,OAAOC,SAAS8B,KAAO,O,oBAGzB,WACE,OAAO,S,GATYR,aCSRS,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCERQ,EAAO,WACX,OACE,qBAAK1B,UAAU,YAAf,SACE,eAAC,IAAD,CAAQ2B,QAAStD,IAAjB,UACE,cAAC,IAAD,CAAOuD,KAAK,IAAIC,UAAWnB,IAC3B,cAAC,IAAD,CAAOkB,KAAK,UAAUC,UAAWpB,EAAQqB,QAASvD,IAClD,cAAC,IAAD,CAAOqD,KAAK,YAAYC,UAAWlB,UAM3CoB,IAASC,OAAO,cAAC,EAAD,IAAUC,SAASC,eAAe,SAClDjB,M","file":"static/js/main.b3a2bcfd.chunk.js","sourcesContent":["import decode from 'jwt-decode';\nimport { browserHistory } from 'react-router';\n\n// import { createBrowserHistory } from 'history'\n\nimport auth0 from 'auth0-js';\nconst ID_TOKEN_KEY = 'id_token';\nconst ACCESS_TOKEN_KEY = 'access_token';\n\nconst CLIENT_ID = 'EeobY3jxsMoFREmqfmsZwAALQb73WeWm';\nconst CLIENT_DOMAIN = 'unicoder.auth0.com';\nconst REDIRECT = 'http://localhost:3000/callback';\nconst SCOPE = 'full:access';\nconst AUDIENCE = 'http://miniflix.com';\n\nvar auth = new auth0.WebAuth({\n  clientID: CLIENT_ID,\n  domain: CLIENT_DOMAIN\n});\n\nexport function login() {\n  auth.authorize({\n    responseType: 'token id_token',\n    redirectUri: REDIRECT,\n    audience: AUDIENCE,\n    scope: SCOPE\n  });\n}\n\nexport function logout() {\n  clearIdToken();\n  clearAccessToken();\n  browserHistory.push('/');\n}\n\nexport function requireAuth(nextState, replace) {\n  if (!isLoggedIn()) {\n    replace({pathname: '/'});\n  }\n}\n\nexport function getIdToken() {\n  return localStorage.getItem(ID_TOKEN_KEY);\n}\n\nexport function getAccessToken() {\n  return localStorage.getItem(ACCESS_TOKEN_KEY);\n}\n\nfunction clearIdToken() {\n  localStorage.removeItem(ID_TOKEN_KEY);\n}\n\nfunction clearAccessToken() {\n  localStorage.removeItem(ACCESS_TOKEN_KEY);\n}\n\n// Helper function that will allow us to extract the access_token and id_token\nfunction getParameterByName(name) {\n  let match = RegExp('[#&]' + name + '=([^&]*)').exec(window.location.hash);\n  return match && decodeURIComponent(match[1].replace(/\\+/g, ' '));\n}\n\n// Get and store access_token in local storage\nexport function setAccessToken() {\n  let accessToken = getParameterByName('access_token');\n  localStorage.setItem(ACCESS_TOKEN_KEY, accessToken);\n}\n\n// Get and store id_token in local storage\nexport function setIdToken() {\n  let idToken = getParameterByName('id_token');\n  localStorage.setItem(ID_TOKEN_KEY, idToken);\n}\n\nexport function isLoggedIn() {\n  const idToken = getIdToken();\n  return !!idToken && !isTokenExpired(idToken);\n}\n\nfunction getTokenExpirationDate(encodedToken) {\n  const token = decode(encodedToken);\n  if (!token.exp) { return null; }\n\n  const date = new Date(0);\n  date.setUTCSeconds(token.exp);\n\n  return date;\n}\n\nfunction isTokenExpired(token) {\n  const expirationDate = getTokenExpirationDate(token);\n  return expirationDate < new Date();\n}\n","import React, {Component } from 'react';\nimport { Link } from 'react-router';\nimport { login, logout, isLoggedIn } from '../utils/AuthService';\nimport '../App.css';\n\nclass Nav extends Component{\n  render(){\n    return(\n      <nav className = \"navbar navbar-default\">\n        <div className = \"navbar-header\">\n          <Link className=\"navbar-brand\" to=\"/\">Miniflix</Link>\n        </div>\n        <ul className = \"nav navbar-nav\">\n          <li>\n            <Link to=\"/\">All Videos</Link>\n          </li>\n          <li>\n            {\n              (isLoggedIn()) ? <Link to=\"/upload\">Upload VIdoes</Link>: ''\n            }\n          </li>\n        </ul>\n        <ul className=\"nav navbar-nav navbar-right\">\n          <li>\n            {\n              (isLoggedIn()) ? (<button className=\"btn byn-danger log\" onClick={() => logout()}>Log out</button>):(<button className=\"btn btn-info log\" onClick={() => login()}> Log In</button>)\n            }\n          </li>\n        </ul>\n      </nav>\n    );\n  }\n\n}\nexport default Nav;\n","import React, {Component} from 'react';\nimport { Link } from 'react-router';\nimport Nav from './Nav';\n\nclass Upload extends Component{\n    render(){\n      return(\n        <div>\n          <Nav />\n          <h3 className = \"text-center\">Upload Your 20-second Videos in a Jiffy</h3>\n          <hr/>\n          <div className = \"col-sm-12\">\n            <div className = \"jumbotron text-center\">\n              <button className = \"btn btn-lg btn-info\"> Upload Video</button>\n            </div>\n          </div>\n        </div>\n      );\n    }\n}\n\nexport default Upload;\n","import React, {Component } from 'react';\nimport {Link} from 'react-router';\nimport Nav from './Nav';\nimport { isLoggedIn } from '../utils/AuthService';\nimport axios from 'axios';\n\nclass Display extends Component{\n  render(){\n    return(\n      <div>\n        <Nav />\n          <h3 className = \"text-center\">Latest Videos on Minflix</h3>\n        <hr/>\n        <div className=\"col-sm-12\">\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Display;\n","import { Component } from 'react';\nimport { setIdToken, setAccessToken } from '../utils/AuthService';\n\nclass Callback extends Component {\n\n  componentDidMount() {\n    setAccessToken();\n    setIdToken();\n    window.location.href = \"./\";\n  }\n\n  render(){\n    return null;\n  }\n\n}\nexport default Callback;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Upload from './components/Upload';\nimport Display from './components/Display';\nimport Callback from './components/Callback';\nimport reportWebVitals from './reportWebVitals';\nimport { Router, Route, browserHistory } from 'react-router';\nimport { requireAuth } from './utils/AuthService';\n\nconst Root = () => {\n  return (\n    <div className=\"container\">\n      <Router history={browserHistory}>\n        <Route path=\"/\" component={Display}/>\n        <Route path=\"/upload\" component={Upload} onEnter={requireAuth} />\n        <Route path=\"/callback\" component={Callback} />\n      </Router>\n    </div>\n  )\n}\n\nReactDOM.render(<Root />, document.getElementById('root'));\nreportWebVitals()\n"],"sourceRoot":""}